generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           String     @id @default(cuid())
  name         String
  email        String     @unique
  passwordHash String
  createdAt    DateTime   @default(now())
  responses    Response[]
}

model Response {
  id                         String   @id @default(cuid())
  userId                     String
  fiscalYear                 String
  totalElectricityKwh        Decimal? @db.Decimal(20, 4)
  renewableElectricityKwh    Decimal? @db.Decimal(20, 4)
  totalFuelLiters            Decimal? @db.Decimal(20, 4)
  carbonEmissionsTco2e       Decimal? @db.Decimal(20, 4)
  totalEmployees             Int?
  femaleEmployees            Int?
  avgTrainingHours           Decimal? @db.Decimal(20, 4)
  communityInvestmentInr     Decimal? @db.Decimal(20, 4)
  independentBoardPct        Decimal? @db.Decimal(7, 4)
  hasDataPrivacyPolicy       Boolean?
  totalRevenueInr            Decimal? @db.Decimal(20, 4)
  createdAt                  DateTime @default(now())
  updatedAt                  DateTime @updatedAt

  user User @relation(fields: [userId], references: [id])

  @@unique([userId, fiscalYear])
}
